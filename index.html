<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Beautiful Book</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffd1dc 0%, #ffb3d9 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            width: 100%;
            max-width: 900px;
        }
        .book-cover-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 40px;
            perspective: 1000px;
            height: 600px;
        }
        .book-cover {
            width: 100%;
            height: 100%;
            cursor: pointer;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform-style: preserve-3d;
            position: relative;
        }
        .book-cover.opened {
            transform: rotateY(-180deg);
        }
        .cover-front, .cover-back {
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            color: white;
            text-align: center;
            padding: 40px;
            font-size: 48px;
            font-weight: bold;
            position: absolute;
            width: 100%;
            height: 100%;
        }
        .cover-front {
            background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 50%, #ffa4c4 100%);
            z-index: 2;
        }
        .cover-back {
            background: linear-gradient(135deg, #ffa4c4 0%, #ffb3d9 50%, #ffc0e0 100%);
            transform: rotateY(180deg);
            z-index: 1;
        }
        .cover-front::before, .cover-back::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3), transparent 50%);
            pointer-events: none;
            border-radius: 15px;
        }
        .cover-text {
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        .cover-subtitle {
            font-size: 18px;
            margin-top: 20px;
            opacity: 0.9;
        }
        .click-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0.8;
            animation: bounce 2s infinite;
            z-index: 10;
        }
        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }
        .book-content {
            display: none;
            width: 100%;
        }
        .book-content.active {
            display: block;
        }
        .book-pages {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            min-height: 600px;
            perspective: 1000px;
        }
        .page-left, .page-right {
            flex: 1;
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
        }
        .page-left {
            background: #fff9fb;
            border-right: 2px solid #ffe0ec;
        }
        .page-right {
            background: white;
        }
        .page-right.flip-out {
            transform: rotateY(180deg);
        }
        .page-left.flip-in {
            transform: rotateY(0deg);
        }
        .page-text {
            font-size: 14px;
            line-height: 1.7;
            color: #333;
            flex: 1;
            min-height: 350px;
            display: flex;
            flex-direction: column;
        }
        .page-text p {
            margin-bottom: 12px;
            text-align: justify;
        }
        .page-number {
            margin-top: auto;
            font-size: 14px;
            color: #999;
            padding-top: 20px;
            text-align: center;
        }
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            gap: 20px;
        }
        .btn {
            padding: 12px 30px;
            font-size: 16px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: white;
        }
        .btn-prev {
            background: linear-gradient(135deg, #ff8fab, #ff6b9d);
        }
        .btn-prev:hover:not(:disabled) {
            background: linear-gradient(135deg, #ff6b9d, #ff5a8a);
            transform: translateX(-5px);
        }
        .btn-next {
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
        }
        .btn-next:hover:not(:disabled) {
            background: linear-gradient(135deg, #ff5a8a, #ff6b9d);
            transform: translateX(5px);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .page-info {
            text-align: center;
            color: #666;
            font-weight: bold;
        }
        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b9d, #ff8fab);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        .music-toggle:hover {
            transform: scale(1.1);
        }
        .music-toggle.playing {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .shayari-btn {
            padding: 10px 25px;
            font-size: 14px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #ff8fab, #ff6b9d);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            font-weight: bold;
            align-self: flex-start;
        }

        .shayari-btn:hover {
            background: linear-gradient(135deg, #ff6b9d, #ff5a8a);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #fff5f9 0%, #ffe0ec 100%);
            padding: 50px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease;
            text-align: center;
            position: relative;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-content h2 {
            color: #ff6b9d;
            font-size: 28px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .modal-content p {
            color: #333;
            font-size: 16px;
            line-height: 2;
            margin: 20px 0;
            font-style: italic;
            letter-spacing: 0.5px;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: left;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 32px;
            font-weight: bold;
            color: #ff6b9d;
            cursor: pointer;
            transition: all 0.3s ease;
            background: none;
            border: none;
        }

        .close-btn:hover {
            color: #ff5a8a;
            transform: scale(1.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Book Cover -->
        <div class="book-cover-container">
            <div class="book-cover" id="bookCover">
                <div class="cover-front">
                    <div class="cover-text">
                        üìñ
                        <div>A Beautiful Story</div>
                    </div>
                    <div class="cover-subtitle">Open to Read</div>
                    <div class="click-hint">Click to Open</div>
                </div>
                <div class="cover-back">
                    <div style="font-size: 24px;">‚ú®</div>
                    <div style="margin-top: 20px;">Turn to Begin</div>
                </div>
            </div>
        </div>
        <!-- Book Content -->
        <div class="book-content" id="bookContent">
            <div class="book-pages" id="bookPages">
                <div class="page-left" id="pageLeft">
                    <div class="page-text" id="pageTextLeft"></div>
                    <div class="page-number">Page <span id="leftPageNum">1</span></div>
                </div>
                <div class="page-right" id="pageRight">
                    <div class="page-text" id="pageTextRight"></div>
                    <div class="page-number">Page <span id="rightPageNum">2</span></div>
                </div>
            </div>
            <div class="controls">
                <button class="btn btn-prev" id="prevBtn" onclick="prevPage()">‚Üê Previous</button>
                <div class="page-info">
                    Page <span id="currentPage">1</span> of <span id="totalPages">1</span>
                </div>
                <button class="btn btn-next" id="nextBtn" onclick="nextPage()">Next ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Shayari Modal -->
    <div class="modal" id="shayariModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeShayari()">&times;</button>
            <h2>üíï Shayari üíï</h2>
            <p id="shayariText"></p>
        </div>
    </div>

    <!-- Music Toggle Button -->
    <button class="music-toggle" id="musicToggle" onclick="toggleMusic()">üéµ</button>
    <!-- Audio Element -->
    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>
    <script>
        const shayariContent = `Ek Ladki Meri Dost Hai üíñ

Ek ladki meri dost hai,
Jo dil ke bohot kareeb hai.
Dekho to lage kuch aur si,
Par naseeb mein sirf dosti hi likha hai.

Thodi si zyada khaas hai woh,
Mohabbat se bhi gehri uski baat hai.
Sabse pehle wahi samajh leti hai,
Jaise mere dil ka raaz usi ke paas hai.

Khush ho jaata hoon jab usse dekhta hoon,
Woh pehle hi chehra padh leti hai mera.
Zakhm chahe kitna bhi gehra ho,
Marham ban jaati hai woh mera.

Dard ki har dava ban jaati hai,
Yaadon ki mehfil ka sukoon bhi woh hi.
Paas baith jaaye to aise lage,
Jaise kisi ne dil ko samajh liya ho kabhi.

Woh door ho jaaye to lagta hai,
Khuda bhi thoda sa rooth gaya.
Uski kami kuch is tarah mehsoos hoti hai,
Jaise dil se noor hi chala gaya.

Kabhi-kabhi bohot sata deta hoon use, 
Shayad dil bhi tod deta hoon anjane mein. 
maafi v mang leta hu usse 
kiu q darta hu mein uske rone se
Fikr hoti hai bohot zyada uski,
Isliye hamesha pooch leta hoon‚Äî
Ghar pahunchi ya nahi?
Khaana sahi se khayi ya nahi?
Haan gussa mujh par karti hai woh,
Par kabhi dikhati nahi.

Bohot hi pyaari hai woh‚Ä¶
Usse main aise kaise rooth jaaun? 
Pyaar jo karta hu usse..
Ek hi darr rehta hai mera‚Äî
Kahin kho na doon use .

Taarif uski karu to lafz kam pad jaate hain,
Kabhi mazaak mein chhed bhi deta hoon use,
Par uske bina dil bechain sa rehta hai,
Jaise woh hi har pal ki aadat ban gayi ho meri.

Sab kuch hai woh mere liye‚Äî
Dua bhi, khushi bhi, rab ki rehmat bhi.
Aaj ke zamaane mein kahan milti hai,
Aisi dosti?

Ek ladki meri dost hai,
Jo dil ke‚Ä¶  üí´`;

        const fullText = `Hey Sayani, its been a while we spoke. Ok I've been thinking for a while about what to say , and this is not something written in a hurry ‚Äì it comes from reflection‚Ä¶

        Our journey‚Ä¶.. we shared even just as friends genuinely matter to me. It wasn't only about projects or exams, but about the experiences around them. The long days and late nights working on project, project pressure,  explaining concepts, fixing errors, the stress and panic moment before exams, the laughs in between, and the quiet understanding ‚Äî all of it mattered and still moving forward step by step ‚Äî those moments stay with me. 

        I remember what we did, how it felt ‚Äî supporting each other and caring without expecting anything in return. Whether it was explaining concepts, fixing things, waiting, or just being there ‚Äî we did it because it felt right. I remember explaining the project to you and I also want to say this clearly ‚Äî I really really appreciate your efforts. The way you tried, learned, took notes, asked questions, and pushed through panic and stress which is something meaningful. What you did was real work, and it deserves appreciation. No matter what how much panic was there you alone fight it back I saw it and I appreciate it. And you know, I was also in stressed after seen you paniced.. During mini project exam I saw how much you were in panic and after it I see a smile on your face i really felt relieved. Though I never told how I felt that day.

        Do you remember the day I gifted you the sketches of you. That day, when I saw your inner child come alive, the smile on your face was really pure and knowing that someone felt that kind of joy because of me meant a lot.

        Do you remember the day we gave the Teacher's Day gift and the vase accidentally broke? You had put so much love and effort into making those gifts, carrying the gifts and when it broke, it felt like I had broken something much deeper‚Äîyour hard work and your feelings. I could see the hurt in your eyes, and that hurt came because of me. That's why I couldn't bring myself to approach you; I didn't know how to face you or what words I could possibly use to make it right. I bought another vase and gave the gift to madam the next day, not just to fix what was broken, but because I truly respect your efforts and everything you had put into it. You should ask Devang what he saw in me that day the part of me I never knew how to show you.

        And that day, you also gave me a keychain as a gift. You may not know this, but it matters to me more than my life itself‚Äîbecause you were the first person, among all my friends, who ever gave me a gift.

        I truly appreciate it, and I carry that keychain with me everywhere I go. For me, losing it would feel like losing a part of my life. For me its more than enough.

        I still remember the day you gave me jalebis, and I gave you a return gift‚Äîa container filled with cookies and a note. You know, that was the first time I ever wrote something like that. I wrote you a message that no matter what happened I will always there for you to help you if you need.

        I was genuinely happy, because through that small gesture, I was able to make you feel happy.
        
        I still remember the night we worked together on the project. You stayed awake, sharing code with me, not sleeping at all just because I was working on it. I truly appreciate you and all the hard work you put in for me.
        
        I still remember the day you were feeling anxious, and I made a website for you to cheer you up that you are not alone and you can do it. When I heard your happy voice on the meet, it meant everything to me because you truly matter to me.Here‚Äôs the link: https://jrrity.github.io/happy/
        
        I still remember the day I wrote a shayari for you, pouring emotions into words I didn't know how to say out loud. And there's another shayari too‚Äîone I wrote only for you, but never had the courage to show you.
          This is shayari ‚Ä¶
[SHAYARI_MARKER] 


        I still remember the day we fought over something so small, and how heavy my heart felt afterward. To make things right, I made you a little website‚Äîsomething simple, but filled with all my feelings. I still remember your reaction, and how it quietly healed me.

  And you know why I act protective‚Äîit's because you matter to me. That's why, in college, I would tell you to eat this or that, something healthy, so you wouldn't fall sick. I cared about you so much that I'd ask you to message me once you reached home‚Ä¶ khair, you never really did.

  For me, these were never big things‚Äîjust small efforts I made for you. But those small efforts carry everything I feel: how deeply I care about you, how much I respect you, and how much I love you. And those moments mattered deeply, and they'll stay with me.

  And you helped me too‚Äîmore than you know. When I was really down, you motivated me and lifted me up. Every time you understood me, every time you encouraged me, those moments became a part of me, and I can never forget them.

  You listened and understood all my stories and stood by me, supporting me every step of the way.

  Everything you did for me made such a difference in my life that sometimes I feel like I owe you more than I could ever express.

  But then, all of a sudden, I don't know what happened between us. The strong friendship we had built seemed to fall apart, as if someone cast a bad eye on it. It felt like I was losing someone truly special to me. I feel like I hurt you, like the trust we had has been broken because of me. Sometimes, I can't help but feel that everything ended because of my mistakes. And you know, I tried to fix my mistakes and improve myself, so that I would never lose someone as truly special to me as you are.

  And you know in this friendship taught me a lot. It taught me patience ‚Äî how to stay calm when someone else is anxious. It taught me responsibility ‚Äî how to support without expecting anything in return. It taught me how to be confident. It taught me to respect everyones comfort, boundaries, and timing. And it taught me something important about myself: how sincerely I care, how deeply I value loyalty, and how much I believe in being present when someone needs support. I respect you , your boundaries, your dreams , your choices. 

  Everything I ever did for you was never transactional‚Äîthere were no expectations, no pressure, and no hidden motives. I did those things simply because it felt right in the moment: to be there, to offer support, and to stand steady when life felt overwhelming.

  And somewhere along the way, I realized I had fallen in love with you‚Äînot because I had to, not for any reason, but quietly and naturally, with every little moment of care, every smile we shared, and the respect that grew between us.

  This is all I wanted to say, because as our college days come to an end, we don't know when, where, or how we'll meet again. Life changes, paths diverge, priorities shift ‚Äî that's part of growing up. But no matter what the future holds, I want you to know that I will always remember this chapter with gratitude and warmth, never with regret.

  I genuinely wish you peace, good health, confidence, and happiness in whatever path you choose next. I hope you always believe in yourself the way you learned to during those stressful moments ‚Äî because you are capable.

  And one last thing never think you vannot do anything . for me you did every single things better whether on hackathon day or project you made or gifts you made or in every single learning you did it better than me and everyone else. Im proud of you and I always believed you like you believed in me . you matter to me a lot . I am grateful to have you as my friend.

  Thank you ‚Äî for the experiences, the effort, the lessons, and the memories.

  Valo thakis.`;

        let currentPageIndex = 0;
        const maxLinesPerPage = 20;
        let pageLines = [];
        let totalPages = 0;
        let isPlaying = false;
        let shayariPageIndex = -1;
        
        const bgMusic = document.getElementById('bgMusic');
        const musicToggle = document.getElementById('musicToggle');
        const pageLeft = document.getElementById('pageLeft');
        const pageRight = document.getElementById('pageRight');
        
        function toggleMusic() {
            if (isPlaying) {
                bgMusic.pause();
                isPlaying = false;
                musicToggle.classList.remove('playing');
            } else {
                bgMusic.play();
                isPlaying = true;
                musicToggle.classList.add('playing');
            }
        }

        function openShayari() {
            document.getElementById('shayariText').textContent = shayariContent;
            document.getElementById('shayariModal').classList.add('show');
        }

        function closeShayari() {
            document.getElementById('shayariModal').classList.remove('show');
        }

        window.onclick = function(event) {
            const modal = document.getElementById('shayariModal');
            if (event.target == modal) {
                modal.classList.remove('show');
            }
        }
        
        function initializePages() {

    // ‚úÖ Auto-convert URLs to clickable links FIRST
    const text = fullText.replace(
        /(https?:\/\/[^\s]+)/g,
        '<a href="$1" target="_blank">$1</a>'
    );

    let allLines = [];
    const lines = text.split('\n');

    lines.forEach(line => {

        if (line.includes('[SHAYARI_MARKER]')) {
            shayariPageIndex = Math.floor(allLines.length / maxLinesPerPage);
            return;
        }

        if (!line.trim()) {
            allLines.push('');
            return;
        }

        // ‚úÖ DO NOT BREAK HTML TAGS
        if (line.includes('<a ')) {
            allLines.push(line.trim());
            return;
        }

        const words = line.trim().split(/\s+/);
        let currentLine = '';

        words.forEach(word => {
            if ((currentLine + ' ' + word).length > 60) {
                allLines.push(currentLine);
                currentLine = word;
            } else {
                currentLine += (currentLine ? ' ' : '') + word;
            }
        });

        if (currentLine) allLines.push(currentLine);
    });

    pageLines = [];
    for (let i = 0; i < allLines.length; i += maxLinesPerPage) {
        pageLines.push(allLines.slice(i, i + maxLinesPerPage));
    }

    totalPages = Math.ceil(pageLines.length / 2);
    document.getElementById('totalPages').textContent = totalPages;
    displayPage();
}

        
        function displayPage() {
            if (pageLines.length === 0) return;
            
            const leftPageIndex = currentPageIndex * 2;
            const rightPageIndex = leftPageIndex + 1;
            
            // Left page content
            let leftContent = '';
            let showShayariLeft = false;
            
            if (leftPageIndex < pageLines.length) {
                leftContent = pageLines[leftPageIndex].join('<br>');
                if (leftPageIndex === shayariPageIndex) {
                    showShayariLeft = true;
                }
            }
            
            // Right page content
            let rightContent = '';
            let showShayariRight = false;
            
            if (rightPageIndex < pageLines.length) {
                rightContent = pageLines[rightPageIndex].join('<br>');
                if (rightPageIndex === shayariPageIndex) {
                    showShayariRight = true;
                }
            }
            
            // Clear flip classes
            pageLeft.classList.remove('flip-out');
            pageRight.classList.remove('flip-out');
            
            // Update left page
            let leftHTML = leftContent;
            if (showShayariLeft) {
                leftHTML += '<br><br><button class="shayari-btn" onclick="openShayari()">üíï Read Shayari üíï</button>';
            }
            document.getElementById('pageTextLeft').innerHTML = leftHTML;
            
            // Update right page
            let rightHTML = rightContent;
            if (showShayariRight) {
                rightHTML += '<br><br><button class="shayari-btn" onclick="openShayari()">üíï Read Shayari üíï</button>';
            }
            document.getElementById('pageTextRight').innerHTML = rightHTML;
            
            // Update page numbers
            document.getElementById('leftPageNum').textContent = leftPageIndex + 1;
            document.getElementById('rightPageNum').textContent = rightPageIndex + 1;
            document.getElementById('currentPage').textContent = currentPageIndex + 1;
            
            updateButtons();
        }
        
        function nextPage() {
            if (currentPageIndex < totalPages - 1) {
                pageRight.classList.add('flip-out');
                
                setTimeout(() => {
                    currentPageIndex++;
                    displayPage();
                }, 400);
            }
        }
        
        function prevPage() {
            if (currentPageIndex > 0) {
                pageLeft.classList.add('flip-out');
                
                setTimeout(() => {
                    currentPageIndex--;
                    displayPage();
                }, 400);
            }
        }
        
        function updateButtons() {
            document.getElementById('prevBtn').disabled = currentPageIndex === 0;
            document.getElementById('nextBtn').disabled = currentPageIndex === totalPages - 1;
        }
        
        document.getElementById('bookCover').addEventListener('click', function() {
            this.classList.add('opened');
            
            setTimeout(() => {
                document.querySelector('.book-cover-container').style.display = 'none';
                document.getElementById('bookContent').classList.add('active');
                initializePages();
                
                if (!isPlaying) {
                    bgMusic.play();
                    isPlaying = true;
                    musicToggle.classList.add('playing');
                }
            }, 400);
        });
        
        updateButtons();
    </script>
</body>
</html>